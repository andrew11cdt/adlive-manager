(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[628],{57719:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return w}});var s=t(85893),a=t(67294),l=t(80807),r=t(48966),i=t.n(r),u=t(98296),o=t.n(u),c=t(10719);function f(e){var n=e.type,t=void 0===n?"text":n,l=e.value,r=e.defaultValue,i=e.disabled,u=void 0!==i&&i,f=(e.required,e.className),d=e.style,_=e.autoFocus,v=void 0!==_&&_,x=e.suffixComponent,m=e.onChange,h=e.onBlur,p=e.onFocus,g=e.validateCallback,y=e.receiveValidValueCallback,b=(0,a.useState)(!1),N=b[0],j=b[1],E=(0,a.useState)(v),S=E[0],C=E[1],k=(0,a.useState)(null),w=k[0],I=k[1],L=function(e){if(g){var n=g(e),t=n.isValid,s=n.msg;t?(I(null),y&&y(e)):I(s)}else I(null)};return(0,a.useEffect)((function(){N&&L(l)}),[l]),(0,a.useEffect)((function(){j(!0)}),[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"".concat(o().inputWrapper," ").concat(S?o().focused:""," ").concat(w?o().error:""," ").concat(f||""),style:d,onClick:function(){return C(!0)},children:[(0,s.jsx)("input",{type:t,className:"".concat(o().input),autoFocus:v,value:l,defaultValue:r,disabled:u,onChange:function(e){m&&m(e.target.value,e)},onBlur:function(e){C(!1),h&&h(e.target.value,e),L(e.target.value)},onFocus:function(e){p&&p(e.target.value,e)}}),x&&(0,s.jsx)("div",{className:o().suffixInput,children:x})]}),w&&(0,s.jsx)(c.Uy,{className:o().errorMsg,children:w})]})}function d(e){var n=e.className,t=e.style,l=e.disabled,r=e.value,u=e.onChange,o=(0,a.useState)(!1),c=o[0],d=o[1],_=(0,a.useState)(r||""),v=_[0],x=_[1],m=(0,a.useState)(r||""),h=m[0],p=m[1];return(0,a.useEffect)((function(){c&&u&&u(h)}),[h]),(0,a.useEffect)((function(){d(!0)}),[]),(0,s.jsx)(f,{className:n,style:t,disabled:l,value:v,onChange:function(e){return x(e)},validateCallback:function(e){return function(e){return i().isEmail(e,{allow_utf8_local_part:!1,allow_ip_domain:!1,allow_display_name:!1})}(e)?{isValid:!0,msg:null}:(p(""),{isValid:!1,msg:"Wrong email format. Please check your email."})},receiveValidValueCallback:function(e){return p(e)}})}var _=t(36927),v=t.n(_);function x(e){var n=e.label,t=e.children,a=e.prefixLabel,l=e.suffixLabel;return(0,s.jsxs)("div",{className:v().formItem,children:[n&&(0,s.jsx)(c.r6,{className:v().label,children:n}),a&&(0,s.jsx)(c.Uy,{className:v().prefixLabel,children:a}),(0,s.jsx)("div",{className:v().content,children:t}),l&&(0,s.jsx)(c.Uy,{className:v().suffixLabel,children:l})]})}var m=t(14377),h=t(61520),p=t(85376),g=t.n(p);function y(e){e.autoFocus,e.disabled;var n=e.value,t=(e.className,e.style,e.onChange),l=(0,a.useState)(!1),r=l[0],i=l[1],u=(0,a.useState)(!1),o=u[0],c=u[1],d=(0,a.useState)(n||""),_=d[0],v=d[1],x=(0,a.useState)(n||""),m=x[0],p=x[1],y=function(){c((function(e){return!e}))};return(0,a.useEffect)((function(){r&&t&&t(m)}),[m]),(0,a.useEffect)((function(){i(!0)}),[]),(0,s.jsx)(f,{type:o?"text":"password",value:_,suffixComponent:o?(0,s.jsx)(h.ZP,{className:g().icon,variant:h.AY.EYE_ON,type:h.ni.REGULAR,onClick:y}):(0,s.jsx)(h.ZP,{className:g().icon,variant:h.AY.EYE_OFF,type:h.ni.REGULAR,onClick:y}),onChange:function(e){return v(e)},validateCallback:function(e){return e.length<8?(p(""),{isValid:!1,msg:"Your password must be greater or equal 8 characters."}):{isValid:!0,msg:null}},receiveValidValueCallback:function(e){return p(e)}})}var b=t(67426),N=t(86861),j=t(9495),E=t(41453),S=t.n(E);function C(){var e=(0,N.Z)().auth,n=(0,a.useState)(null),t=n[0],r=n[1],i=(0,a.useState)(""),u=i[0],o=i[1],f=(0,a.useState)(""),_=f[0],v=f[1],h=(0,a.useState)(!1),p=h[0],g=h[1],E=(0,a.useMemo)((function(){return(null===e||void 0===e?void 0:e.isAuthenticating)||(null===e||void 0===e?void 0:e.isGettingToken)}),[e]),C=(0,a.useMemo)((function(){return!(E||!u||!_)}),[u,_,E]);return(0,a.useEffect)((function(){!E&&null!==e&&void 0!==e&&e.isAuthenticated&&(0,j.gB)("/advertiser")}),[E,e]),(0,s.jsxs)("div",{className:S().advertiserSignIn,children:[(0,s.jsx)(c.aG,{className:S().title,children:"Sign In"}),(0,s.jsxs)("div",{className:S().form,children:[(0,s.jsx)(x,{label:"Email",children:(0,s.jsx)(d,{value:u,onChange:function(e){return o(e)}})}),(0,s.jsx)(x,{label:"Password",suffixLabel:"Enter your country and phone number",children:(0,s.jsx)(y,{value:_,onChange:function(e){return v(e)}})}),t&&(0,s.jsx)(c.Uy,{className:S().errorMsg,children:t}),(0,s.jsx)(l.ZP,{style:{marginLeft:"auto"},disabled:!C||p,onClick:function(){g(!0),b.Z.signIn(u,_).then((function(e){var n=e.isDone,t=e.reason;n?(0,j.gB)("/advertiser"):(r(t),g(!1))}))},children:E||p?(0,s.jsx)(m.Z,{size:m.O.EXTRA_SMALL}):"SIGN IN"})]})]})}var k=t(2287);function w(){return(0,s.jsx)(k.Z,{children:(0,s.jsx)(C,{})})}},32077:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/advertiser/sign-in",function(){return t(57719)}])},36927:function(e){e.exports={formItem:"styles_formItem__2EeOq",label:"styles_label__3BEuT",suffixLabel:"styles_suffixLabel__2h5Pv",prefixLabel:"styles_prefixLabel__Nh3uO",content:"styles_content__2EUEq"}},98296:function(e){e.exports={inputWrapper:"styles_inputWrapper__2C8Gv",input:"styles_input__1IFLh",suffixInput:"styles_suffixInput__3xpIT",focused:"styles_focused__3c8ot",error:"styles_error__9Uxsz",errorMsg:"styles_errorMsg__3pGfl"}},85376:function(e){e.exports={icon:"styles_icon__3Jl-A"}},41453:function(e){e.exports={hideScrollbar:"styles_hideScrollbar__secVf",advertiserSignIn:"styles_advertiserSignIn__136rB",disableUserSelect:"styles_disableUserSelect__59GBH",hiddenTextOverflow:"styles_hiddenTextOverflow__ushr2",title:"styles_title__YYwnA",form:"styles_form__1SMoh",errorMsg:"styles_errorMsg__1wxJu"}}},function(e){e.O(0,[774,885,925,465,966,430],(function(){return n=32077,e(e.s=n);var n}));var n=e.O();_N_E=n}]);